<diagram program="umletino" version="14.2"><zoom_level>10</zoom_level><element><id>UMLClass</id><coordinates><x>520</x><y>570</y><w>400</w><h>150</h></coordinates><panel_attributes>lw=1.3
&lt;&lt;thread&gt;&gt;
balancer_server
--
--
--
Responsibilities:
-- Receives the supported languages requests 
-- Sends the supported languages responses.
-- Receives the translation requests
-- Places the received requests into dispatching queue 
-- Sends the translation responses.</panel_attributes><additional_attributes></additional_attributes></element><element><id>UMLClass</id><coordinates><x>50</x><y>430</y><w>400</w><h>160</h></coordinates><panel_attributes>lw=1.3
&lt;&lt;application&gt;&gt;
bpbd_balancer
--
--
--
Responsibilities:
-- Reads the configuration file
-- Configures the translation_servers_manager
-- Configures the balancer_server
-- Starts up the balancer_server
-- Starts the balancer_console
</panel_attributes><additional_attributes></additional_attributes></element><element><id>UMLClass</id><coordinates><x>530</x><y>10</y><w>400</w><h>210</h></coordinates><panel_attributes>lw=1.3
&lt;&lt;thread&gt;&gt;
&lt;&lt;synchronized&gt;&gt;
translator_adapter
--
--
--
Responsibilities:
-- Connects to a translation server
-- Send supported languages requests
-- Receive supported languages responses
-- Notifies the server adviser about the supported languages
-- Notifies the server adviser about the connection status
-- Re-connects to the disconnected server
-- Send translation requests
-- Receive translation responses
</panel_attributes><additional_attributes></additional_attributes></element><element><id>Relation</id><coordinates><x>670</x><y>210</y><w>50</w><h>150</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=0..n</panel_attributes><additional_attributes>10;130;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>240</x><y>580</y><w>300</w><h>130</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=1</panel_attributes><additional_attributes>10;10;10;100;280;100</additional_attributes></element><element><id>Relation</id><coordinates><x>820</x><y>208</y><w>170</w><h>150</h></coordinates><panel_attributes>lt=&lt;.
notify connection status &gt;
</panel_attributes><additional_attributes>10;130;10;10</additional_attributes></element><element><id>UMLClass</id><coordinates><x>550</x><y>338</y><w>350</w><h>150</h></coordinates><panel_attributes>&lt;&lt;singleton&gt;&gt;
&lt;&lt;synchronized&gt;&gt;
adapters_manager
--
--
--
Responsibilities
-- Keeps track of the online translation servers
-- Keeps track of languages supported by the servers
-- Keeps track of the known load on the servers
-- Advises translation server for a translation request</panel_attributes><additional_attributes></additional_attributes></element><element><id>Relation</id><coordinates><x>320</x><y>578</y><w>220</w><h>80</h></coordinates><panel_attributes>lt=&lt;.
configures &gt;</panel_attributes><additional_attributes>200;60;10;60;10;10</additional_attributes></element><element><id>UMLClass</id><coordinates><x>1100</x><y>558</y><w>320</w><h>230</h></coordinates><panel_attributes>&lt;&lt;singleton&gt;&gt;
&lt;&lt;synchronized&gt;&gt;
translation_manager
--
--
--
Responsibilities
-- Keep track of client sessions
-- Keep track of client job requests
-- Cancel job requests for disconnected clients
-- Report error job in case could not dispatch
-- Send the translation response for a job
-- Maintain the translation jobs queue
-- Give job requests new - global job ids
-- Map local job id to session/trans_job data
-- Increase/Decrease the number of dispatchers</panel_attributes><additional_attributes></additional_attributes></element><element><id>Relation</id><coordinates><x>920</x><y>178</y><w>240</w><h>400</h></coordinates><panel_attributes>lt=&lt;.
notify server connection closed &gt;</panel_attributes><additional_attributes>200;380;200;340;80;340;80;10;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>910</x><y>628</y><w>210</w><h>40</h></coordinates><panel_attributes>lt=&lt;-
m1=1</panel_attributes><additional_attributes>190;10;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>420</x><y>128</y><w>220</w><h>230</h></coordinates><panel_attributes>lt=&lt;.
notify supported languages &gt;</panel_attributes><additional_attributes>200;210;200;140;10;140;10;10;110;10</additional_attributes></element><element><id>Relation</id><coordinates><x>910</x><y>698</y><w>210</w><h>40</h></coordinates><panel_attributes>lt=&lt;.
place client request &gt;</panel_attributes><additional_attributes>190;20;10;20</additional_attributes></element><element><id>UMLClass</id><coordinates><x>1100</x><y>148</y><w>320</w><h>240</h></coordinates><panel_attributes>translation_job
--
--
--
Responsibilities:
-- Stores the session id/handler
-- Stores the original job id
-- Stores the newly issued job id
-- Stores the text to be translated
-- Stores the translation job response
-- Gets the server adapter
-- Notify about a failed job dispatch
-- Send translation request
-- Send the translation response
-- Remember in which state the job is:
  -- Waiting for sending request
  -- Waiting for receiving reply</panel_attributes><additional_attributes></additional_attributes></element><element><id>UMLClass</id><coordinates><x>640</x><y>868</y><w>150</w><h>50</h></coordinates><panel_attributes>trans_job_request_in</panel_attributes><additional_attributes></additional_attributes></element><element><id>Relation</id><coordinates><x>1260</x><y>378</y><w>80</w><h>200</h></coordinates><panel_attributes>lt=&lt;.
create &gt;</panel_attributes><additional_attributes>10;10;10;180</additional_attributes></element><element><id>Relation</id><coordinates><x>700</x><y>708</y><w>80</w><h>180</h></coordinates><panel_attributes>lt=&lt;.
creates &gt;</panel_attributes><additional_attributes>10;160;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>240</x><y>340</y><w>330</w><h>110</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=1</panel_attributes><additional_attributes>10;90;10;10;310;10</additional_attributes></element><element><id>Relation</id><coordinates><x>320</x><y>368</y><w>250</w><h>80</h></coordinates><panel_attributes>lt=&lt;.
configures &gt;</panel_attributes><additional_attributes>230;20;10;20;10;60</additional_attributes></element><element><id>Relation</id><coordinates><x>740</x><y>213</y><w>80</w><h>140</h></coordinates><panel_attributes>lt=&lt;.
create &gt;</panel_attributes><additional_attributes>10;10;10;120</additional_attributes></element><element><id>Relation</id><coordinates><x>780</x><y>780</y><w>500</w><h>130</h></coordinates><panel_attributes>lt=&lt;.
&lt; gets the request data from</panel_attributes><additional_attributes>10;110;480;110;480;10</additional_attributes></element><element><id>Relation</id><coordinates><x>140</x><y>580</y><w>40</w><h>170</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=1</panel_attributes><additional_attributes>10;10;10;150</additional_attributes></element><element><id>UMLClass</id><coordinates><x>40</x><y>728</y><w>330</w><h>120</h></coordinates><panel_attributes>balancer_console
--
--
--
Responsibilities
-- Provides the balancer console
-- Allows to execute commands
-- Allows to get run time information
-- Allows to change run time settings</panel_attributes><additional_attributes></additional_attributes></element><element><id>Relation</id><coordinates><x>0</x><y>288</y><w>600</w><h>480</h></coordinates><panel_attributes>lt=&lt;-
m1=1</panel_attributes><additional_attributes>570;50;570;10;10;10;10;460;40;460</additional_attributes></element><element><id>Relation</id><coordinates><x>360</x><y>718</y><w>270</w><h>90</h></coordinates><panel_attributes>lt=&lt;-
m1=0..n</panel_attributes><additional_attributes>230;10;230;70;10;70</additional_attributes></element><element><id>Relation</id><coordinates><x>1200</x><y>380</y><w>80</w><h>200</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=0..n
active &gt;</panel_attributes><additional_attributes>10;180;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>890</x><y>343</y><w>230</w><h>40</h></coordinates><panel_attributes>lt=&lt;.
get server adapter &gt;</panel_attributes><additional_attributes>10;20;210;20</additional_attributes></element><element><id>Relation</id><coordinates><x>920</x><y>138</y><w>280</w><h>440</h></coordinates><panel_attributes>lt=&lt;.
notify translation response &gt;</panel_attributes><additional_attributes>240;420;240;340;130;340;130;10;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>920</x><y>63</y><w>350</w><h>110</h></coordinates><panel_attributes>lt=&lt;.
send translation request &gt;</panel_attributes><additional_attributes>10;20;330;20;330;90</additional_attributes></element><element><id>Relation</id><coordinates><x>1410</x><y>300</y><w>250</w><h>310</h></coordinates><panel_attributes>lt=&lt;.
notify failed job dispatch &gt;</panel_attributes><additional_attributes>10;290;90;290;90;10;10;10</additional_attributes></element><element><id>Relation</id><coordinates><x>910</x><y>658</y><w>210</w><h>40</h></coordinates><panel_attributes>lt=&lt;.
&lt; send client response</panel_attributes><additional_attributes>10;20;190;20</additional_attributes></element><element><id>Relation</id><coordinates><x>1410</x><y>660</y><w>180</w><h>50</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=0..n
incoming &gt;</panel_attributes><additional_attributes>10;20;160;20</additional_attributes></element><element><id>UMLClass</id><coordinates><x>1570</x><y>640</y><w>320</w><h>150</h></coordinates><panel_attributes>template=translation_job
task_pool
--
--
--
Responsibilities
 -- Is the task pool for the tasks.
 -- Manages a number of worker threads.
 -- Keeps the list of tasks for the workers.</panel_attributes><additional_attributes></additional_attributes></element><element><id>Relation</id><coordinates><x>1410</x><y>730</y><w>180</w><h>50</h></coordinates><panel_attributes>lt=&lt;&lt;&lt;&lt;-&gt;
m2=0..n
outgoing &gt;</panel_attributes><additional_attributes>10;20;160;20</additional_attributes></element><element><id>Relation</id><coordinates><x>1330</x><y>378</y><w>80</w><h>200</h></coordinates><panel_attributes>lt=&lt;.
cancel &gt;</panel_attributes><additional_attributes>10;10;10;180</additional_attributes></element><element><id>Relation</id><coordinates><x>1400</x><y>378</y><w>80</w><h>200</h></coordinates><panel_attributes>lt=&lt;.
delete &gt;</panel_attributes><additional_attributes>10;10;10;180</additional_attributes></element><element><id>Relation</id><coordinates><x>1410</x><y>240</y><w>320</w><h>430</h></coordinates><panel_attributes>lt=&lt;-
m1=0..n</panel_attributes><additional_attributes>10;10;300;10;300;410</additional_attributes></element><element><id>Relation</id><coordinates><x>1410</x><y>190</y><w>380</w><h>480</h></coordinates><panel_attributes>lt=&lt;.
&lt; execute</panel_attributes><additional_attributes>10;20;360;20;360;460</additional_attributes></element><element><id>Relation</id><coordinates><x>560</x><y>480</y><w>200</w><h>110</h></coordinates><panel_attributes>lt=&lt;.
&lt; Get the supported languages</panel_attributes><additional_attributes>10;10;10;90</additional_attributes></element></diagram>