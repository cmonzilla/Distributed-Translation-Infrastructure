<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Basic Phrase Based Decoding: uva::smt::bpbd::server::tm::builders::tm_basic_builder&lt; model_type, reader_type &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="owl.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Basic Phrase Based Decoding
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">C++ client/server language translation infrastructure</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">uva::smt::bpbd::server::tm::builders::tm_basic_builder&lt; model_type, reader_type &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3acde5a466b7d9e97e4cf7ffdc72dd87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#a3acde5a466b7d9e97e4cf7ffdc72dd87">tm_basic_builder</a> (const <a class="el" href="structuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1tm__parameters.html">tm_parameters</a> &amp;params, model_type &amp;model, reader_type &amp;reader)</td></tr>
<tr class="separator:a3acde5a466b7d9e97e4cf7ffdc72dd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4afc4e2bbb2a675a64603ceecdc8e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#aaf4afc4e2bbb2a675a64603ceecdc8e9">~tm_basic_builder</a> ()</td></tr>
<tr class="separator:aaf4afc4e2bbb2a675a64603ceecdc8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07847280269c80b4e7d622da3e654c8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#a07847280269c80b4e7d622da3e654c8e">build</a> ()</td></tr>
<tr class="separator:a07847280269c80b4e7d622da3e654c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a55ed944c97e2e9896b6ada55899b9828"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#a55ed944c97e2e9896b6ada55899b9828">post_process_feature</a> (const float feature, const float lambda)</td></tr>
<tr class="separator:a55ed944c97e2e9896b6ada55899b9828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c3a3a7c88c9ebf39007bd0c8f213ad"><td class="memTemplParams" colspan="2">template&lt;bool is_get_weights&gt; </td></tr>
<tr class="memitem:ab0c3a3a7c88c9ebf39007bd0c8f213ad"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#ab0c3a3a7c88c9ebf39007bd0c8f213ad">process_features</a> (<a class="el" href="classuva_1_1utils_1_1file_1_1text__piece__reader.html">text_piece_reader</a> weights, size_t &amp;num_features, <a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html#a01e9ea4de9c226f4464862e84ff0bbcc">prob_weight</a> *storage)</td></tr>
<tr class="separator:ab0c3a3a7c88c9ebf39007bd0c8f213ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af197ee4bc0a4b182cf3823cd6b4a127d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#af197ee4bc0a4b182cf3823cd6b4a127d">is_good_features</a> (<a class="el" href="classuva_1_1utils_1_1file_1_1text__piece__reader.html">text_piece_reader</a> rest, size_t &amp;tmp_features_size, <a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html#a01e9ea4de9c226f4464862e84ff0bbcc">prob_weight</a> *tmp_features)</td></tr>
<tr class="separator:af197ee4bc0a4b182cf3823cd6b4a127d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4176dc8b7c74aebf387f6bd6d80ec72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#aa4176dc8b7c74aebf387f6bd6d80ec72">process_target_entry</a> (<a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__source__entry.html">tm_source_entry</a> *source_entry, <a class="el" href="classuva_1_1utils_1_1file_1_1text__piece__reader.html">text_piece_reader</a> &amp;rest, size_t &amp;count_ref, size_t &amp;tmp_features_size, <a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html#a01e9ea4de9c226f4464862e84ff0bbcc">prob_weight</a> *tmp_features)</td></tr>
<tr class="separator:aa4176dc8b7c74aebf387f6bd6d80ec72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae343a8c5d672c4c530f11eee3c19d3ee"><td class="memTemplParams" colspan="2">template&lt;bool count_or_build&gt; </td></tr>
<tr class="memitem:ae343a8c5d672c4c530f11eee3c19d3ee"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#ae343a8c5d672c4c530f11eee3c19d3ee">parse_tm_file</a> ()</td></tr>
<tr class="separator:ae343a8c5d672c4c530f11eee3c19d3ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a746c653bfdbc8d5e8ad1b8393ba578"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#a3a746c653bfdbc8d5e8ad1b8393ba578">count_source_phrases</a> ()</td></tr>
<tr class="separator:a3a746c653bfdbc8d5e8ad1b8393ba578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab815d0b80278bea0ab5fdc9a527fa6f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#ab815d0b80278bea0ab5fdc9a527fa6f2">process_source_entries</a> ()</td></tr>
<tr class="separator:ab815d0b80278bea0ab5fdc9a527fa6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3990eaf128683fa52c8a43a1498bbf6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html#a3990eaf128683fa52c8a43a1498bbf6c">add_unk_translation</a> ()</td></tr>
<tr class="separator:a3990eaf128683fa52c8a43a1498bbf6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename model_type, typename reader_type&gt;<br />
class uva::smt::bpbd::server::tm::builders::tm_basic_builder&lt; model_type, reader_type &gt;</h3>

<p>This class represents a basic reader of the translation model. It allows to read a text-formatted translation model and to put it into the given instance of the model class. It assumes the simple text model format as used by Oyster or Moses. See <a href="http://www.statmt.org/moses/?n=Moses.Tutorial">http://www.statmt.org/moses/?n=Moses.Tutorial</a> for some info. The translation model is also commonly known as a phrase table. </p>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00084">84</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3acde5a466b7d9e97e4cf7ffdc72dd87"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::<a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">tm_basic_builder</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1tm__parameters.html">tm_parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">model_type &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">reader_type &amp;&#160;</td>
          <td class="paramname"><em>reader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The basic constructor of the builder object  params the model parameters </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the model to put the data into </td></tr>
    <tr><td class="paramname">reader</td><td>the reader to read the data from </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00093">93</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaf4afc4e2bbb2a675a64603ceecdc8e9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::~<a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">tm_basic_builder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The basic destructor </p>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00103">103</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3990eaf128683fa52c8a43a1498bbf6c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::add_unk_translation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to add an unk entry to the model </p>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00447">447</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a07847280269c80b4e7d622da3e654c8e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::build </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to build the model by reading from the reader object. This is a two step process as first we need the number of distinct source phrases. </p>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00113">113</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3a746c653bfdbc8d5e8ad1b8393ba578"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::count_source_phrases </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to count and set the number of source phrases </p>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00413">413</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af197ee4bc0a4b182cf3823cd6b4a127d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::is_good_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuva_1_1utils_1_1file_1_1text__piece__reader.html">text_piece_reader</a>&#160;</td>
          <td class="paramname"><em>rest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>tmp_features_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html#a01e9ea4de9c226f4464862e84ff0bbcc">prob_weight</a> *&#160;</td>
          <td class="paramname"><em>tmp_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to check if whether the probability weights satisfy the filtering thresholds. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rest</td><td>the part of the source entry containing the target and the weights </td></tr>
    <tr><td class="paramname">tmp_features</td><td>the temporary weights storage </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the conditions are satisfied, otherwise false </dd></dl>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00207">207</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae343a8c5d672c4c530f11eee3c19d3ee"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<div class="memtemplate">
template&lt;bool count_or_build&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::parse_tm_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to parse the TM model file and do two things depending on the value of the template parameter:</p><ol type="1">
<li>Count the number of valid entries</li>
<li>Build the TM model NOTE: This two pass parsing is not optimal but we have to do it as we need to know the number of valid entries beforehand, an optimization might be needed! <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count_or_build</td><td>if true then count if false then build </td></tr>
  </table>
  </dd>
</dl>
</li>
</ol>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00291">291</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a55ed944c97e2e9896b6ada55899b9828"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::post_process_feature </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>lambda</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to post-process a single feature, i.e. do: log10(feature)*lambda </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td>the feature to post-process </td></tr>
    <tr><td class="paramname">lambda</td><td>the lambda weight to multiply the log10 feature with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the post-processed feature </dd></dl>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00135">135</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab0c3a3a7c88c9ebf39007bd0c8f213ad"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<div class="memtemplate">
template&lt;bool is_get_weights&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::process_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuva_1_1utils_1_1file_1_1text__piece__reader.html">text_piece_reader</a>&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>num_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html#a01e9ea4de9c226f4464862e84ff0bbcc">prob_weight</a> *&#160;</td>
          <td class="paramname"><em>storage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to extract the features from the text piece and to check that they are valid with respect to the option bound If needed the weights will be converted to log scale and multiplied with the lambda factors </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_get_weights</td><td>if the weights are to be retrieved or just checked </td></tr>
    <tr><td class="paramname">weights</td><td>[in] the text piece with weights, that starts with a space! </td></tr>
    <tr><td class="paramname">num_features</td><td>[out] the number of read features if they satisfy on the constraints </td></tr>
    <tr><td class="paramname">storage</td><td>[out] the read and post-processed features features if they satisfy on the constraints </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the features satisfy the constraints, otherwise false </dd></dl>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00154">154</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab815d0b80278bea0ab5fdc9a527fa6f2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::process_source_entries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows to process translations. </p>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00434">434</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa4176dc8b7c74aebf387f6bd6d80ec72"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename model_type , typename reader_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">uva::smt::bpbd::server::tm::builders::tm_basic_builder</a>&lt; model_type, reader_type &gt;::process_target_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__source__entry.html">tm_source_entry</a> *&#160;</td>
          <td class="paramname"><em>source_entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuva_1_1utils_1_1file_1_1text__piece__reader.html">text_piece_reader</a> &amp;&#160;</td>
          <td class="paramname"><em>rest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>count_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>tmp_features_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html#a01e9ea4de9c226f4464862e84ff0bbcc">prob_weight</a> *&#160;</td>
          <td class="paramname"><em>tmp_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The line format assumes source to target and then at least four weights as given by: <a href="http://www.statmt.org/moses/?n=FactoredTraining.ScorePhrases">http://www.statmt.org/moses/?n=FactoredTraining.ScorePhrases</a> Currently, four different phrase translation scores are computed: inverse phrase translation probability phi(f|e) inverse lexical weighting lex(f|e) direct phrase translation probability phi(e|f) direct lexical weighting lex(e|f) Previously, there was another score: phrase penalty (always exp(1) = 2.718) The latter is considered optional, all the other elements followed on the translation line are now skipped. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_entry</td><td>the pointer to the source entry for which this translation is </td></tr>
    <tr><td class="paramname">rest</td><td>stores the line to be parsed into a translation entry </td></tr>
    <tr><td class="paramname">count_ref</td><td>[in/out] the number of remaining entries </td></tr>
    <tr><td class="paramname">tmp_features_size</td><td>[out] the number of read features </td></tr>
    <tr><td class="paramname">tmp_features</td><td>the temporary feature storage </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tm__basic__builder_8hpp_source.html#l00235">235</a> of file <a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>inc/server/tm/builders/<a class="el" href="tm__basic__builder_8hpp_source.html">tm_basic_builder.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceuva.html">uva</a></li><li class="navelem"><a class="el" href="namespaceuva_1_1smt.html">smt</a></li><li class="navelem"><a class="el" href="namespaceuva_1_1smt_1_1bpbd.html">bpbd</a></li><li class="navelem"><a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server.html">server</a></li><li class="navelem"><a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server_1_1tm.html">tm</a></li><li class="navelem"><a class="el" href="namespaceuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders.html">builders</a></li><li class="navelem"><a class="el" href="classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1builders_1_1tm__basic__builder.html">tm_basic_builder</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
