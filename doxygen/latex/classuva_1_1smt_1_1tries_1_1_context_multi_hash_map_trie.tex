\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie}{}\section{uva\+:\+:smt\+:\+:tries\+:\+:Context\+Multi\+Hash\+Map\+Trie$<$ N $>$ Class Template Reference}
\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie$<$ N $>$@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie$<$ N $>$}}


{\ttfamily \#include $<$Context\+Multi\+Hash\+Map\+Trie.\+hpp$>$}

Inheritance diagram for uva\+:\+:smt\+:\+:tries\+:\+:Context\+Multi\+Hash\+Map\+Trie$<$ N $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_a4dedd355285be9d410d0cef0faf4e493}{Context\+Multi\+Hash\+Map\+Trie} (const float \+\_\+word\+Index\+Mem\+Factor, const float \+\_\+o\+Gram\+Mem\+Factor, const float \+\_\+m\+Gram\+Mem\+Factor, const float \+\_\+n\+Gram\+Mem\+Factor)
\item 
virtual void \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ac744e6f6e63317d1f955ac96d504f724}{pre\+Allocate} (const size\+\_\+t counts\mbox{[}N\mbox{]})
\item 
virtual void \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_abc5ad6e7f2a260a4cc374bbc332edc5c}{add1\+Gram} (const \hyperlink{structuva_1_1smt_1_1tries_1_1_s_back_off_n_gram}{S\+Back\+Off\+N\+Gram} \&o\+Gram)
\item 
virtual void \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_adaf0ff4116ea8c9c0ffe7407841bf8e1}{add\+M\+Gram} (const \hyperlink{structuva_1_1smt_1_1tries_1_1_s_back_off_n_gram}{S\+Back\+Off\+N\+Gram} \&m\+Gram)
\item 
virtual void \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_a2d8c22fa039d475b8b39f06531b58bc7}{add\+N\+Gram} (const \hyperlink{structuva_1_1smt_1_1tries_1_1_s_back_off_n_gram}{S\+Back\+Off\+N\+Gram} \&n\+Gram)
\item 
virtual void \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ad861e3027580ea2b78c95b22c43395ee}{query\+N\+Gram} (const vector$<$ string $>$ \&ngram, \hyperlink{structuva_1_1smt_1_1tries_1_1_s_prob_result}{S\+Prob\+Result} \&result)
\item 
virtual \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ad3a1ce51fea9d2c2d6aaf4f2f0dded85}{$\sim$\+Context\+Multi\+Hash\+Map\+Trie} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const \hyperlink{namespaceuva_1_1smt_1_1tries_a26064146e98856c7c4185efab0e61a36}{T\+Model\+Level} \hyperlink{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ab12bd7cfd0b00da7c134d8d6b1694346}{M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T} = 2
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{template$<$T\+Model\+Level N$>$class uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie$<$ N $>$}

This is a Hash\+Mpa based I\+Trie interface implementation class. Note 1\+: This implementation uses the unsigned long for the hashes it is not optimal Note 2\+: the unordered\+\_\+map might be not as efficient as a hash\+\_\+map with respect to memory usage but it is supposed to be faster

This implementation is chosen because it resembles the ordered array implementation from\+: \char`\"{}\+Faster and Smaller N -\/\+Gram Language Models\char`\"{} Adam Pauls Dan Klein Computer Science Division University of California, Berkeley

and unordered\+\_\+maps showed good performance in\+: \char`\"{}\+Efficient in-\/memory data structures for n-\/grams indexing\char`\"{} Daniel Robenek, Jan Platoˇs, and V ́aclav Sn ́aˇsel Department of Computer Science, F\+E\+I, V\+S\+B – Technical University of Ostrava
\begin{DoxyEnumerate}
\item listopadu 15, 708 33, Ostrava-\/\+Poruba, Czech Republic \{daniel.\+robenek.\+st, jan.\+platos, vaclav.\+snasel\}.cz 
\end{DoxyEnumerate}

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_a4dedd355285be9d410d0cef0faf4e493}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!Context\+Multi\+Hash\+Map\+Trie@{Context\+Multi\+Hash\+Map\+Trie}}
\index{Context\+Multi\+Hash\+Map\+Trie@{Context\+Multi\+Hash\+Map\+Trie}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{Context\+Multi\+Hash\+Map\+Trie(const float \+\_\+word\+Index\+Mem\+Factor, const float \+\_\+o\+Gram\+Mem\+Factor, const float \+\_\+m\+Gram\+Mem\+Factor, const float \+\_\+n\+Gram\+Mem\+Factor)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::{\bf Context\+Multi\+Hash\+Map\+Trie} (
\begin{DoxyParamCaption}
\item[{const float}]{\+\_\+word\+Index\+Mem\+Factor, }
\item[{const float}]{\+\_\+o\+Gram\+Mem\+Factor, }
\item[{const float}]{\+\_\+m\+Gram\+Mem\+Factor, }
\item[{const float}]{\+\_\+n\+Gram\+Mem\+Factor}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_a4dedd355285be9d410d0cef0faf4e493}
The basic class constructor, accepts memory factors that are the coefficients used when pre-\/allocating memory for unordered maps.

If a factor is equal to 0.\+0 then no memory is pre-\/allocated. If the factor is equal to 1.\+0 then there is only as much preallocated as needed to store the gram entries. The latter is typically not enough as unordered\+\_\+map needs more memory for internal administration. If there is not enough memory pre-\/allocated then additional allocations will take place but it does not alway lead to more efficient memory usage. The observed behavior is that it is better to pre-\/allocate a bit more memory beforehand, than needed. This leads to less memory consumption. Depending on the type of unordered\+\_\+map key/value pair types the advised factor values are from 2.\+0 to 2.\+6. Because it can not be optimally determined beforehand, these are made constructor parameters so that they can be configured by the used. This breaks encapsulation a bit, exposing the internals, but there is no other better way, for fine tuning the memory usage.


\begin{DoxyParams}{Parameters}
{\em word\+Index\+Mem\+Factor} & the assigned memory factor for storage allocation in the unordered\+\_\+map used for the word index \\
\hline
{\em o\+Gram\+Mem\+Factor} & The One-\/\+Gram memory factor needed for the greedy allocator for the unordered\+\_\+map \\
\hline
{\em m\+Gram\+Mem\+Factor} & The M-\/\+Gram memory factor needed for the greedy allocator for the unordered\+\_\+map \\
\hline
{\em n\+Gram\+Mem\+Factor} & The N-\/\+Gram memory factor needed for the greedy allocator for the unordered\+\_\+map \\
\hline
\end{DoxyParams}
\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ad3a1ce51fea9d2c2d6aaf4f2f0dded85}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!````~Context\+Multi\+Hash\+Map\+Trie@{$\sim$\+Context\+Multi\+Hash\+Map\+Trie}}
\index{````~Context\+Multi\+Hash\+Map\+Trie@{$\sim$\+Context\+Multi\+Hash\+Map\+Trie}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{$\sim$\+Context\+Multi\+Hash\+Map\+Trie()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::$\sim${\bf Context\+Multi\+Hash\+Map\+Trie} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ad3a1ce51fea9d2c2d6aaf4f2f0dded85}


\subsection{Member Function Documentation}
\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_abc5ad6e7f2a260a4cc374bbc332edc5c}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!add1\+Gram@{add1\+Gram}}
\index{add1\+Gram@{add1\+Gram}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{add1\+Gram(const S\+Back\+Off\+N\+Gram \&o\+Gram)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ void {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::add1\+Gram (
\begin{DoxyParamCaption}
\item[{const {\bf S\+Back\+Off\+N\+Gram} \&}]{o\+Gram}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_abc5ad6e7f2a260a4cc374bbc332edc5c}
This method adds a 1-\/\+Gram (word) to the trie. For more details \begin{DoxySeeAlso}{See also}
I\+Trie 
\end{DoxySeeAlso}


Implements \hyperlink{classuva_1_1smt_1_1tries_1_1_a_trie_af184dbb0b095d24c76f79c7da6479eda}{uva\+::smt\+::tries\+::\+A\+Trie$<$ N $>$}.

\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_adaf0ff4116ea8c9c0ffe7407841bf8e1}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!add\+M\+Gram@{add\+M\+Gram}}
\index{add\+M\+Gram@{add\+M\+Gram}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{add\+M\+Gram(const S\+Back\+Off\+N\+Gram \&m\+Gram)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ void {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::add\+M\+Gram (
\begin{DoxyParamCaption}
\item[{const {\bf S\+Back\+Off\+N\+Gram} \&}]{m\+Gram}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_adaf0ff4116ea8c9c0ffe7407841bf8e1}
This method adds a M-\/\+Gram (word) to the trie where 1 $<$ M $<$ N For more details \begin{DoxySeeAlso}{See also}
I\+Trie 
\end{DoxySeeAlso}


Implements \hyperlink{classuva_1_1smt_1_1tries_1_1_a_trie_acf62fc322ece5ec01ca00e96e17eb9ef}{uva\+::smt\+::tries\+::\+A\+Trie$<$ N $>$}.

\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_a2d8c22fa039d475b8b39f06531b58bc7}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!add\+N\+Gram@{add\+N\+Gram}}
\index{add\+N\+Gram@{add\+N\+Gram}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{add\+N\+Gram(const S\+Back\+Off\+N\+Gram \&n\+Gram)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ void {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::add\+N\+Gram (
\begin{DoxyParamCaption}
\item[{const {\bf S\+Back\+Off\+N\+Gram} \&}]{n\+Gram}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_a2d8c22fa039d475b8b39f06531b58bc7}
This method adds a N-\/\+Gram (word) to the trie where For more details \begin{DoxySeeAlso}{See also}
I\+Trie 
\end{DoxySeeAlso}


Implements \hyperlink{classuva_1_1smt_1_1tries_1_1_a_trie_a240c090a5651e74304cf37b131ca9741}{uva\+::smt\+::tries\+::\+A\+Trie$<$ N $>$}.

\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ac744e6f6e63317d1f955ac96d504f724}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!pre\+Allocate@{pre\+Allocate}}
\index{pre\+Allocate@{pre\+Allocate}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{pre\+Allocate(const size\+\_\+t counts[N])}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ void {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::pre\+Allocate (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{counts\mbox{[}\+N\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ac744e6f6e63317d1f955ac96d504f724}
This method can be used to provide the N-\/gram count information That should allow for pre-\/allocation of the memory For more details \begin{DoxySeeAlso}{See also}
I\+Trie 
\end{DoxySeeAlso}


Reimplemented from \hyperlink{classuva_1_1smt_1_1tries_1_1_a_hash_map_trie_ad867b72350326f464b563fba6727ba5f}{uva\+::smt\+::tries\+::\+A\+Hash\+Map\+Trie$<$ N $>$}.

\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ad861e3027580ea2b78c95b22c43395ee}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!query\+N\+Gram@{query\+N\+Gram}}
\index{query\+N\+Gram@{query\+N\+Gram}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{query\+N\+Gram(const vector$<$ string $>$ \&ngram, S\+Prob\+Result \&result)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ void {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::query\+N\+Gram (
\begin{DoxyParamCaption}
\item[{const vector$<$ string $>$ \&}]{ngram, }
\item[{{\bf S\+Prob\+Result} \&}]{result}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ad861e3027580ea2b78c95b22c43395ee}
This method will get the N-\/gram in a form of a vector, e.\+g.\+: \mbox{[}word1 word2 word3 word4 word5\mbox{]} and will compute and return the Language Model Probability for it For more details \begin{DoxySeeAlso}{See also}
I\+Trie 
\end{DoxySeeAlso}


Implements \hyperlink{classuva_1_1smt_1_1tries_1_1_a_trie_a86f8301bb7a9e7a232f16bcd000062b2}{uva\+::smt\+::tries\+::\+A\+Trie$<$ N $>$}.



\subsection{Member Data Documentation}
\hypertarget{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ab12bd7cfd0b00da7c134d8d6b1694346}{}\index{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}!M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T@{M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T}}
\index{M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T@{M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T}!uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie@{uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}}
\subsubsection[{M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T}]{\setlength{\rightskip}{0pt plus 5cm}template$<$T\+Model\+Level N$>$ const {\bf T\+Model\+Level} {\bf uva\+::smt\+::tries\+::\+Context\+Multi\+Hash\+Map\+Trie}$<$ N $>$\+::M\+G\+R\+A\+M\+\_\+\+I\+D\+X\+\_\+\+O\+F\+F\+S\+E\+T = 2\hspace{0.3cm}{\ttfamily [static]}}\label{classuva_1_1smt_1_1tries_1_1_context_multi_hash_map_trie_ab12bd7cfd0b00da7c134d8d6b1694346}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
inc/\hyperlink{_context_multi_hash_map_trie_8hpp}{Context\+Multi\+Hash\+Map\+Trie.\+hpp}\item 
src/\hyperlink{_context_multi_hash_map_trie_8cpp}{Context\+Multi\+Hash\+Map\+Trie.\+cpp}\end{DoxyCompactItemize}
