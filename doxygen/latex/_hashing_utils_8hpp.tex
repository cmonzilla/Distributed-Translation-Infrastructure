\hypertarget{_hashing_utils_8hpp}{}\section{inc/\+Hashing\+Utils.hpp File Reference}
\label{_hashing_utils_8hpp}\index{inc/\+Hashing\+Utils.\+hpp@{inc/\+Hashing\+Utils.\+hpp}}
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$cmath$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$functional$>$}\\*
{\ttfamily \#include \char`\"{}Logger.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Globals.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}xxhash.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Text\+Piece\+Reader.\+hpp\char`\"{}}\\*
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespaceuva}{uva}
\item 
 \hyperlink{namespaceuva_1_1smt}{uva\+::smt}
\item 
 \hyperlink{namespaceuva_1_1smt_1_1hashing}{uva\+::smt\+::hashing}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_hashing_utils_8hpp_acde9dad44d3e0e432474bef93e12f9e7}{X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E}
\item 
\#define \hyperlink{_hashing_utils_8hpp_abc7d71657be8975a51684e41029b7964}{get16bits}(d)
\item 
\#define \hyperlink{_hashing_utils_8hpp_a955f504eccf76b4eb2489c0adab03121}{A}~54059 /$\ast$ a prime $\ast$/
\item 
\#define \hyperlink{_hashing_utils_8hpp_a111da81ae5883147168bbb8366377b10}{B}~76963 /$\ast$ another prime $\ast$/
\item 
\#define \hyperlink{_hashing_utils_8hpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}~86969 /$\ast$ yet another prime $\ast$/
\item 
\#define \hyperlink{_hashing_utils_8hpp_a4faa59f47eb95c1158c8ec8166b87b9d}{cwfold}(a,  b,  lo,  hi)~\{ p = (uint32\+\_\+t)(a) $\ast$ (uint64\+\_\+t)(b); lo $^\wedge$= (uint32\+\_\+t)p; hi $^\wedge$= (uint32\+\_\+t)(p $>$$>$ 32); \}
\item 
\#define \hyperlink{_hashing_utils_8hpp_aaa3b6b86b8e77fd73da672aa9bfe5b08}{cwmixa}(in)~\{ \hyperlink{_hashing_utils_8hpp_a4faa59f47eb95c1158c8ec8166b87b9d}{cwfold}( in, m, k, h ); \}
\item 
\#define \hyperlink{_hashing_utils_8hpp_af0c06b3a9249ee9e674293ed0a797db2}{cwmixb}(in)~\{ \hyperlink{_hashing_utils_8hpp_a4faa59f47eb95c1158c8ec8166b87b9d}{cwfold}( in, n, h, k ); \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a1122f9cea7a46ff058d6e1d1a956ad5c}{uva\+::smt\+::hashing\+::hash32} (uint32\+\_\+t key)
\item 
uint\+\_\+fast64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_ab2ab5c0482dae95dd76bf3380d064fa2}{uva\+::smt\+::hashing\+::hash64} (uint64\+\_\+t key)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_aa43fdcfec1c39ef1651c37a01ea6d239}{uva\+::smt\+::hashing\+::hash\+Str} (const char $\ast$data, int len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a05470691cb4fdaa03ae388a92cae3c8e}{uva\+::smt\+::hashing\+::hash\+Str} (const string \&token)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_ab58ee6072dad2326f67f8a90e62238b6}{uva\+::smt\+::hashing\+::basic\+\_\+fnv\+\_\+1} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a801a5a0fcbdd5ce27d8cdb0b61a48325}{uva\+::smt\+::hashing\+::basic\+\_\+fnv\+\_\+1} (const string \&token)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_adfac598555f7bc1c5f977534d8c0489b}{uva\+::smt\+::hashing\+::basic\+\_\+fnv\+\_\+1a} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_ab7815ccec4356d786ef65bb512dca9dd}{uva\+::smt\+::hashing\+::basic\+\_\+fnv\+\_\+1a} (const string \&token)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_ab5657e6a0476111854d640e62043c91c}{uva\+::smt\+::hashing\+::compute\+X\+X\+Hash32} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a074c1b5bc4c4b1d69c28bb100bae6729}{uva\+::smt\+::hashing\+::compute\+X\+X\+Hash32} (const string \&token)
\item 
uint\+\_\+fast64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a481534e67432cc3f5a8a35970b351458}{uva\+::smt\+::hashing\+::compute\+X\+X\+Hash64} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_adc422e2a0504d94933794bb1639398fe}{uva\+::smt\+::hashing\+::compute\+X\+X\+Hash64} (const string \&token)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a6c3fa130e885dfb598755d0a0374bb55}{uva\+::smt\+::hashing\+::compute\+Paul\+Hsieh\+Hash} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a5dddda6049bbe46b8de0196c32b8ed88}{uva\+::smt\+::hashing\+::compute\+Paul\+Hsieh\+Hash} (const string \&str)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a6acd19fa0ec401ebcf83bddb084868a2}{uva\+::smt\+::hashing\+::compute\+Djb2\+Hash} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a831b522e0defd7f2fb98e4659c238233}{uva\+::smt\+::hashing\+::compute\+Djb2\+Hash} (const string \&str)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_aa7ec4be33256ab5f88807cf253aa64f0}{uva\+::smt\+::hashing\+::compute\+Primes\+Hash} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_aba060665a729921116e2d55ec06b571e}{uva\+::smt\+::hashing\+::compute\+Primes\+Hash} (const string \&str)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a769ad382d3dbb50f27cdb8e834c0f8ba}{uva\+::smt\+::hashing\+::compute\+R\+S\+Hash} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a6fd5b042010c6cb97387719407ca7552}{uva\+::smt\+::hashing\+::compute\+R\+S\+Hash} (const string \&str)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_ac90e791feb022e306f9a587f38634929}{uva\+::smt\+::hashing\+::stupid\+Hash} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a90bf2bab20f065c7693da46a1d776cc3}{uva\+::smt\+::hashing\+::stupid\+Hash} (const string \&str)
\item 
{\footnotesize template$<$uint32\+\_\+t seed$>$ }\\uint32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a7f5c6b8537cc241d515c16782d7e7732}{uva\+::smt\+::hashing\+::crap\+Wow\+Hash} (const char $\ast$key, uint32\+\_\+t len)
\item 
{\footnotesize template$<$uint64\+\_\+t seed$>$ }\\uint64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_aab30ac60ac5c660503b4b736df2896f2}{uva\+::smt\+::hashing\+::\+Murmur\+Hash64\+A} (const void $\ast$key, std\+::size\+\_\+t len)
\item 
{\footnotesize template$<$uint64\+\_\+t seed$>$ }\\uint64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a3da1f706ea51c541ff3c1c1634dadb38}{uva\+::smt\+::hashing\+::\+Murmur\+Hash64\+B} (const void $\ast$key, std\+::size\+\_\+t len)
\item 
uint\+\_\+fast64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_aa372dbea8bcfd35b1278598df650a56f}{uva\+::smt\+::hashing\+::compute\+Hash} (const char $\ast$data, uint32\+\_\+t len)
\item 
uint\+\_\+fast64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a3dec5678734cb96a27ecf4df41c6f3ce}{uva\+::smt\+::hashing\+::compute\+Hash} (const \hyperlink{classuva_1_1smt_1_1file_1_1_text_piece_reader}{Text\+Piece\+Reader} \&token)
\item 
uint\+\_\+fast64\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a5d52e69625f3cde0c9d05c17994c4943}{uva\+::smt\+::hashing\+::compute\+Hash} (const string \&token)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a0185c620c3b3707f559c423f366a7f19}{uva\+::smt\+::hashing\+::compute\+Bounded\+Hash} (const char $\ast$data, uint32\+\_\+t len, const uint32\+\_\+t limit)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a387f024518c6907d3a1fca92443bf53d}{uva\+::smt\+::hashing\+::compute\+Bounded\+Hash} (const \hyperlink{classuva_1_1smt_1_1file_1_1_text_piece_reader}{Text\+Piece\+Reader} \&token, const uint32\+\_\+t limit)
\item 
uint\+\_\+fast32\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a767a9f7163a83984fbc240edaf75b61a}{uva\+::smt\+::hashing\+::compute\+Bounded\+Hash} (const string \&token, const uint32\+\_\+t limit)
\item 
T\+Long\+Id \hyperlink{namespaceuva_1_1smt_1_1hashing_ab870d4db140cd2f763a334f82db0d904}{uva\+::smt\+::hashing\+::cantor} (T\+Long\+Id x, T\+Long\+Id y)
\item 
void \hyperlink{namespaceuva_1_1smt_1_1hashing_a5c885761adf4c13f267b1d0c1f205daa}{uva\+::smt\+::hashing\+::uncantor} (const T\+Long\+Id z, T\+Short\+Id \&x, T\+Long\+Id \&y)
\item 
T\+Long\+Id \hyperlink{namespaceuva_1_1smt_1_1hashing_aa902304943fda935979f1b3bd0bea64d}{uva\+::smt\+::hashing\+::szudzik} (T\+Long\+Id x, T\+Long\+Id y)
\item 
void \hyperlink{namespaceuva_1_1smt_1_1hashing_ab81d1f9d50a921d629e445eff89988b3}{uva\+::smt\+::hashing\+::unszudzik} (const T\+Long\+Id z, T\+Short\+Id \&x, T\+Long\+Id \&y)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const std\+::size\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a1d75c23c055906113f9c29f0ef93c3be}{uva\+::smt\+::hashing\+::fnv\+\_\+prime} = 1099511628211u
\item 
const std\+::size\+\_\+t \hyperlink{namespaceuva_1_1smt_1_1hashing_a114900b041415523076700317d62613a}{uva\+::smt\+::hashing\+::fnv\+\_\+offset\+\_\+basis} = 14695981039346656037u
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{_hashing_utils_8hpp_a955f504eccf76b4eb2489c0adab03121}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!A@{A}}
\index{A@{A}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{A}]{\setlength{\rightskip}{0pt plus 5cm}\#define A~54059 /$\ast$ a prime $\ast$/}\label{_hashing_utils_8hpp_a955f504eccf76b4eb2489c0adab03121}
This is a hash function found online \href{http://stackoverflow.com/questions/8317508/hash-function-for-a-string}{\tt http\+://stackoverflow.\+com/questions/8317508/hash-\/function-\/for-\/a-\/string} It\textquotesingle{}s origin is unknown but it proves to work perfect (without collisions) on both test sets! So I do not need to complicate a hash map to a multi-\/map for now! Note\+: The time complexity is linear in the length of the word. Note\+: There are no observed collisions up until now. Note\+: But it is not yet known if this hash is collision free. 
\begin{DoxyParams}{Parameters}
{\em str} & the word to hash \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the resulting hash 
\end{DoxyReturn}
\hypertarget{_hashing_utils_8hpp_a111da81ae5883147168bbb8366377b10}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!B@{B}}
\index{B@{B}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{B}]{\setlength{\rightskip}{0pt plus 5cm}\#define B~76963 /$\ast$ another prime $\ast$/}\label{_hashing_utils_8hpp_a111da81ae5883147168bbb8366377b10}
\hypertarget{_hashing_utils_8hpp_ac4cf4b2ab929bd23951a8676eeac086b}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!C@{C}}
\index{C@{C}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{C}]{\setlength{\rightskip}{0pt plus 5cm}\#define C~86969 /$\ast$ yet another prime $\ast$/}\label{_hashing_utils_8hpp_ac4cf4b2ab929bd23951a8676eeac086b}
\hypertarget{_hashing_utils_8hpp_a4faa59f47eb95c1158c8ec8166b87b9d}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!cwfold@{cwfold}}
\index{cwfold@{cwfold}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{cwfold}]{\setlength{\rightskip}{0pt plus 5cm}\#define cwfold(
\begin{DoxyParamCaption}
\item[{}]{a, }
\item[{}]{b, }
\item[{}]{lo, }
\item[{}]{hi}
\end{DoxyParamCaption}
)~\{ p = (uint32\+\_\+t)(a) $\ast$ (uint64\+\_\+t)(b); lo $^\wedge$= (uint32\+\_\+t)p; hi $^\wedge$= (uint32\+\_\+t)(p $>$$>$ 32); \}}\label{_hashing_utils_8hpp_a4faa59f47eb95c1158c8ec8166b87b9d}
\hypertarget{_hashing_utils_8hpp_aaa3b6b86b8e77fd73da672aa9bfe5b08}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!cwmixa@{cwmixa}}
\index{cwmixa@{cwmixa}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{cwmixa}]{\setlength{\rightskip}{0pt plus 5cm}\#define cwmixa(
\begin{DoxyParamCaption}
\item[{}]{in}
\end{DoxyParamCaption}
)~\{ {\bf cwfold}( in, m, k, h ); \}}\label{_hashing_utils_8hpp_aaa3b6b86b8e77fd73da672aa9bfe5b08}
\hypertarget{_hashing_utils_8hpp_af0c06b3a9249ee9e674293ed0a797db2}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!cwmixb@{cwmixb}}
\index{cwmixb@{cwmixb}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{cwmixb}]{\setlength{\rightskip}{0pt plus 5cm}\#define cwmixb(
\begin{DoxyParamCaption}
\item[{}]{in}
\end{DoxyParamCaption}
)~\{ {\bf cwfold}( in, n, h, k ); \}}\label{_hashing_utils_8hpp_af0c06b3a9249ee9e674293ed0a797db2}
\hypertarget{_hashing_utils_8hpp_abc7d71657be8975a51684e41029b7964}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!get16bits@{get16bits}}
\index{get16bits@{get16bits}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{get16bits}]{\setlength{\rightskip}{0pt plus 5cm}\#define get16bits(
\begin{DoxyParamCaption}
\item[{}]{d}
\end{DoxyParamCaption}
)}\label{_hashing_utils_8hpp_abc7d71657be8975a51684e41029b7964}
{\bfseries Value\+:}
\begin{DoxyCode}
((((uint\_fast32\_t)(((\textcolor{keyword}{const} uint8\_t *)(d))[1])) << 8)\(\backslash\)
                       +(uint\_fast32\_t)(((\textcolor{keyword}{const} uint8\_t *)(d))[0]) )
\end{DoxyCode}
The string hashing functions\+: compute\+Paul\+Hsieh\+Hash -\/ This one showed the worst speed on a test run compute\+Djb2\+Hash -\/ This one showed medium speed on a test run compute\+Primes\+Hash -\/ This one showed medium speed on a test run compute\+R\+S\+Hash -\/ This one showed the best speed on a test run

Note that the X\+X\+H\+A\+S\+H should be the best with respect to everything, see\+: \href{https://github.com/Cyan4973/xxHash}{\tt https\+://github.\+com/\+Cyan4973/xx\+Hash}

Yet it is not even on a 64 bit machine with X\+X\+H64 it is beated by R\+S\+Hash! At least the hash based trie performs faster (200 vs 250 C\+P\+U seconds) on a 20 Gb model with 100.\+000.\+000 queries. So for us X\+X\+H\+A\+S\+H is not the best. The following is the Paul Hsieh implementation of a string hashing function This one seems to be very efficient in computation time and has good distribution\+: \href{http://www.azillionmonkeys.com/qed/hash.html}{\tt http\+://www.\+azillionmonkeys.\+com/qed/hash.\+html} \hypertarget{_hashing_utils_8hpp_acde9dad44d3e0e432474bef93e12f9e7}{}\index{Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}!X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E@{X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E}}
\index{X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E@{X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E}!Hashing\+Utils.\+hpp@{Hashing\+Utils.\+hpp}}
\subsubsection[{X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\+X\+H\+\_\+\+N\+A\+M\+E\+S\+P\+A\+C\+E}\label{_hashing_utils_8hpp_acde9dad44d3e0e432474bef93e12f9e7}
