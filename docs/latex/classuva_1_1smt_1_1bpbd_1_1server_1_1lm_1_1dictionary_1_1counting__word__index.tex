\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index}{}\section{uva\+:\+:smt\+:\+:bpbd\+:\+:server\+:\+:lm\+:\+:dictionary\+:\+:counting\+\_\+word\+\_\+index Class Reference}
\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}


{\ttfamily \#include $<$counting\+\_\+word\+\_\+index.\+hpp$>$}

Inheritance diagram for uva\+:\+:smt\+:\+:bpbd\+:\+:server\+:\+:lm\+:\+:dictionary\+:\+:counting\+\_\+word\+\_\+index\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a45cc59a8b01a6969185abfe64e431f40}{counting\+\_\+word\+\_\+index} (const float mem\+\_\+factor)
\item 
bool \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a7b530630b019f9f9546ac2acf38d0d8b}{is\+\_\+word\+\_\+registering\+\_\+needed} () const 
\item 
\hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_a6bfe45ba344d65a7fdd7d26156328ddc}{word\+\_\+uid} \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_ae6ba2913927b35d6949d9dff11997a69}{register\+\_\+word} (const \hyperlink{classuva_1_1utils_1_1file_1_1_text_piece_reader}{Text\+Piece\+Reader} \&token)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_aed4802f9e0790e8cbf007eea63acab5e}{count\+\_\+word} (const \hyperlink{classuva_1_1utils_1_1file_1_1_text_piece_reader}{Text\+Piece\+Reader} \&word, \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_a01e9ea4de9c226f4464862e84ff0bbcc}{prob\+\_\+weight} prob)
\item 
bool \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a63889a048a4d71116c526fbf89f47fad}{is\+\_\+word\+\_\+counts\+\_\+needed} () const 
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a84cdef8ee880690c644b122bec2bc8d2}{do\+\_\+post\+\_\+word\+\_\+count} ()
\item 
bool \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_ab89430f0d54c6de70b693386c1966a40}{is\+\_\+post\+\_\+actions\+\_\+needed} () const 
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a104d6e256540a23db472fe7de0f9bf5f}{do\+\_\+post\+\_\+actions} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static constexpr bool \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_aa8ec0139749382322a9955bf645b00e6}{is\+\_\+word\+\_\+index\+\_\+continuous} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This is a hash-\/map based implementation of the word index which extends the basic word index by word counting. This allows to count the word usages and then to issue lower word indexes to the more frequently used words. This allows for, for example, shorter M-\/gram ids.

To\+Do\+: Change or create a new version of the word index that will just use probabilities of the unigrams instead of counting words. 

Definition at line 83 of file counting\+\_\+word\+\_\+index.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a45cc59a8b01a6969185abfe64e431f40}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!counting\+\_\+word\+\_\+index@{counting\+\_\+word\+\_\+index}}
\index{counting\+\_\+word\+\_\+index@{counting\+\_\+word\+\_\+index}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{counting\+\_\+word\+\_\+index(const float mem\+\_\+factor)}]{\setlength{\rightskip}{0pt plus 5cm}uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::counting\+\_\+word\+\_\+index (
\begin{DoxyParamCaption}
\item[{const float}]{mem\+\_\+factor}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a45cc59a8b01a6969185abfe64e431f40}
The basic constructor 
\begin{DoxyParams}{Parameters}
{\em mem\+\_\+factor} & the assigned memory factor for storage allocation in the unordered\+\_\+map used for the word index \\
\hline
\end{DoxyParams}


Definition at line 91 of file counting\+\_\+word\+\_\+index.\+hpp.



\subsection{Member Function Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_aed4802f9e0790e8cbf007eea63acab5e}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!count\+\_\+word@{count\+\_\+word}}
\index{count\+\_\+word@{count\+\_\+word}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{count\+\_\+word(const Text\+Piece\+Reader \&word, prob\+\_\+weight prob)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::count\+\_\+word (
\begin{DoxyParamCaption}
\item[{const {\bf Text\+Piece\+Reader} \&}]{word, }
\item[{{\bf prob\+\_\+weight}}]{prob}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_aed4802f9e0790e8cbf007eea63acab5e}
This method is to be used when the word counting is needed. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 127 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a104d6e256540a23db472fe7de0f9bf5f}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!do\+\_\+post\+\_\+actions@{do\+\_\+post\+\_\+actions}}
\index{do\+\_\+post\+\_\+actions@{do\+\_\+post\+\_\+actions}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{do\+\_\+post\+\_\+actions()}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::do\+\_\+post\+\_\+actions (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a104d6e256540a23db472fe7de0f9bf5f}
Is to be called if the post actions are needed right after that all the individual words have been added into the index. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 230 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a84cdef8ee880690c644b122bec2bc8d2}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!do\+\_\+post\+\_\+word\+\_\+count@{do\+\_\+post\+\_\+word\+\_\+count}}
\index{do\+\_\+post\+\_\+word\+\_\+count@{do\+\_\+post\+\_\+word\+\_\+count}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{do\+\_\+post\+\_\+word\+\_\+count()}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::do\+\_\+post\+\_\+word\+\_\+count (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a84cdef8ee880690c644b122bec2bc8d2}
Should be called if the word count is needed after all the words have been counted. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 151 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_ab89430f0d54c6de70b693386c1966a40}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!is\+\_\+post\+\_\+actions\+\_\+needed@{is\+\_\+post\+\_\+actions\+\_\+needed}}
\index{is\+\_\+post\+\_\+actions\+\_\+needed@{is\+\_\+post\+\_\+actions\+\_\+needed}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{is\+\_\+post\+\_\+actions\+\_\+needed() const }]{\setlength{\rightskip}{0pt plus 5cm}bool uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::is\+\_\+post\+\_\+actions\+\_\+needed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_ab89430f0d54c6de70b693386c1966a40}
Indicates if the post-\/actions are needed. The post actions should be called after all the words have been filled into the index. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 209 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a63889a048a4d71116c526fbf89f47fad}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!is\+\_\+word\+\_\+counts\+\_\+needed@{is\+\_\+word\+\_\+counts\+\_\+needed}}
\index{is\+\_\+word\+\_\+counts\+\_\+needed@{is\+\_\+word\+\_\+counts\+\_\+needed}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{is\+\_\+word\+\_\+counts\+\_\+needed() const }]{\setlength{\rightskip}{0pt plus 5cm}bool uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::is\+\_\+word\+\_\+counts\+\_\+needed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a63889a048a4d71116c526fbf89f47fad}
This method allows to indicate whether word counting is needed by the given implementation of the word index. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 141 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_aa8ec0139749382322a9955bf645b00e6}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!is\+\_\+word\+\_\+index\+\_\+continuous@{is\+\_\+word\+\_\+index\+\_\+continuous}}
\index{is\+\_\+word\+\_\+index\+\_\+continuous@{is\+\_\+word\+\_\+index\+\_\+continuous}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{is\+\_\+word\+\_\+index\+\_\+continuous()}]{\setlength{\rightskip}{0pt plus 5cm}static constexpr bool uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::is\+\_\+word\+\_\+index\+\_\+continuous (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_aa8ec0139749382322a9955bf645b00e6}
Allows to indicate if the word index is continuous, i.\+e. it issues the word ids in a continuous range starting from 0. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
true -\/ this word index is continuous. 
\end{DoxyReturn}


Definition at line 220 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a7b530630b019f9f9546ac2acf38d0d8b}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!is\+\_\+word\+\_\+registering\+\_\+needed@{is\+\_\+word\+\_\+registering\+\_\+needed}}
\index{is\+\_\+word\+\_\+registering\+\_\+needed@{is\+\_\+word\+\_\+registering\+\_\+needed}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{is\+\_\+word\+\_\+registering\+\_\+needed() const }]{\setlength{\rightskip}{0pt plus 5cm}bool uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::is\+\_\+word\+\_\+registering\+\_\+needed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_a7b530630b019f9f9546ac2acf38d0d8b}
This method allows to indicate whether registering a word is needed by the given implementation of the word index. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 106 of file counting\+\_\+word\+\_\+index.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_ae6ba2913927b35d6949d9dff11997a69}{}\index{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}!register\+\_\+word@{register\+\_\+word}}
\index{register\+\_\+word@{register\+\_\+word}!uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index@{uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index}}
\subsubsection[{register\+\_\+word(const Text\+Piece\+Reader \&token)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf word\+\_\+uid} uva\+::smt\+::bpbd\+::server\+::lm\+::dictionary\+::counting\+\_\+word\+\_\+index\+::register\+\_\+word (
\begin{DoxyParamCaption}
\item[{const {\bf Text\+Piece\+Reader} \&}]{token}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1lm_1_1dictionary_1_1counting__word__index_ae6ba2913927b35d6949d9dff11997a69}
This function creates/gets a hash for the given word. \begin{DoxySeeAlso}{See also}
A\+Word\+Index 
\end{DoxySeeAlso}


Definition at line 115 of file counting\+\_\+word\+\_\+index.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
inc/server/lm/dictionaries/\hyperlink{counting__word__index_8hpp}{counting\+\_\+word\+\_\+index.\+hpp}\end{DoxyCompactItemize}
