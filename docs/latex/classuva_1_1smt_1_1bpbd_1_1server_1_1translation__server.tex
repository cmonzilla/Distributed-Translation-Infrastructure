\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server}{}\section{uva\+:\+:smt\+:\+:bpbd\+:\+:server\+:\+:translation\+\_\+server Class Reference}
\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}


{\ttfamily \#include $<$translation\+\_\+server.\+hpp$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classwebsocketpp_1_1server}{websocketpp\+::server}$<$ \hyperlink{structwebsocketpp_1_1config_1_1asio}{websocketpp\+::config\+::asio} $>$ \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a7a3d55d39330bc8414d5c0964c8e5bd7}{server}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a3f8206303fa38e30dbd84fa8801e2e2e}{translation\+\_\+server} (const uint16\+\_\+t port, const size\+\_\+t num\+\_\+threads)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a777df696ef2e9bb24fe19b4bff7b7e81}{set\+\_\+num\+\_\+threads} (const size\+\_\+t num\+\_\+threads)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a0c987a4eb353484a89f6b54c44e4940b}{report\+\_\+run\+\_\+time\+\_\+info} ()
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a16dcf58e027baa12eec503b2323a8131}{run} ()
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a49a359715e8314937625e44c85d79c25}{stop} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a57a29ff74e1ed45b04ad70eca4cb81dd}{send\+\_\+response} (\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{connection\+\_\+hdl} hdl, \hyperlink{classuva_1_1smt_1_1bpbd_1_1common_1_1messaging_1_1trans__job__response}{trans\+\_\+job\+\_\+response} \&response)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_aba474a4a531b53d047d0325c0547090a}{on\+\_\+open} (\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{connection\+\_\+hdl} hdl)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac458534555d855f68799ca675f612bc5}{on\+\_\+close} (\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{connection\+\_\+hdl} hdl)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac26c124f12bc61c9a989e1c899b010ca}{on\+\_\+fail} (\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{connection\+\_\+hdl} hdl)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac3def6980110c67b945d2483a2734630}{on\+\_\+message} (\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{websocketpp\+::connection\+\_\+hdl} hdl, \hyperlink{classwebsocketpp_1_1endpoint_a585ecbbfd9689d4e4229e4c8378bd672}{server\+::message\+\_\+ptr} msg)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This is the translation server class implementing the functionality of receiving the client connections and doing translation jobs for them. 

Definition at line 64 of file translation\+\_\+server.\+hpp.



\subsection{Member Typedef Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a7a3d55d39330bc8414d5c0964c8e5bd7}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!server@{server}}
\index{server@{server}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{server}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf websocketpp\+::server}$<${\bf websocketpp\+::config\+::asio}$>$ {\bf uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::server}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a7a3d55d39330bc8414d5c0964c8e5bd7}


Definition at line 66 of file translation\+\_\+server.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a3f8206303fa38e30dbd84fa8801e2e2e}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!translation\+\_\+server@{translation\+\_\+server}}
\index{translation\+\_\+server@{translation\+\_\+server}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{translation\+\_\+server(const uint16\+\_\+t port, const size\+\_\+t num\+\_\+threads)}]{\setlength{\rightskip}{0pt plus 5cm}uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::translation\+\_\+server (
\begin{DoxyParamCaption}
\item[{const uint16\+\_\+t}]{port, }
\item[{const size\+\_\+t}]{num\+\_\+threads}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a3f8206303fa38e30dbd84fa8801e2e2e}
The basic constructor 
\begin{DoxyParams}{Parameters}
{\em port} & the port to listen to \\
\hline
{\em num\+\_\+threads} & the number of translation threads to run \\
\hline
\end{DoxyParams}


Definition at line 73 of file translation\+\_\+server.\+hpp.



\subsection{Member Function Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac458534555d855f68799ca675f612bc5}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!on\+\_\+close@{on\+\_\+close}}
\index{on\+\_\+close@{on\+\_\+close}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{on\+\_\+close(connection\+\_\+hdl hdl)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::on\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf connection\+\_\+hdl}}]{hdl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac458534555d855f68799ca675f612bc5}
Removes the session object and also stops the processed translation job requests 
\begin{DoxyParams}{Parameters}
{\em hdl} & the connection handler \\
\hline
\end{DoxyParams}


Definition at line 196 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac26c124f12bc61c9a989e1c899b010ca}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!on\+\_\+fail@{on\+\_\+fail}}
\index{on\+\_\+fail@{on\+\_\+fail}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{on\+\_\+fail(connection\+\_\+hdl hdl)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::on\+\_\+fail (
\begin{DoxyParamCaption}
\item[{{\bf connection\+\_\+hdl}}]{hdl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac26c124f12bc61c9a989e1c899b010ca}
Is called in case of a websocket error, for now does nothing but logs the error 
\begin{DoxyParams}{Parameters}
{\em hdl} & the connection handler \\
\hline
\end{DoxyParams}


Definition at line 207 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac3def6980110c67b945d2483a2734630}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!on\+\_\+message@{on\+\_\+message}}
\index{on\+\_\+message@{on\+\_\+message}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{on\+\_\+message(websocketpp\+::connection\+\_\+hdl hdl, server\+::message\+\_\+ptr msg)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::on\+\_\+message (
\begin{DoxyParamCaption}
\item[{{\bf websocketpp\+::connection\+\_\+hdl}}]{hdl, }
\item[{{\bf server\+::message\+\_\+ptr}}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_ac3def6980110c67b945d2483a2734630}
Is called when the message is received by the server 
\begin{DoxyParams}{Parameters}
{\em hdl} & the connection handler \\
\hline
{\em msg} & the received message \\
\hline
\end{DoxyParams}


Definition at line 216 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_aba474a4a531b53d047d0325c0547090a}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!on\+\_\+open@{on\+\_\+open}}
\index{on\+\_\+open@{on\+\_\+open}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{on\+\_\+open(connection\+\_\+hdl hdl)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::on\+\_\+open (
\begin{DoxyParamCaption}
\item[{{\bf connection\+\_\+hdl}}]{hdl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_aba474a4a531b53d047d0325c0547090a}
Creates a new session object for the new connection/client 
\begin{DoxyParams}{Parameters}
{\em hdl} & \\
\hline
\end{DoxyParams}


Definition at line 179 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a0c987a4eb353484a89f6b54c44e4940b}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!report\+\_\+run\+\_\+time\+\_\+info@{report\+\_\+run\+\_\+time\+\_\+info}}
\index{report\+\_\+run\+\_\+time\+\_\+info@{report\+\_\+run\+\_\+time\+\_\+info}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{report\+\_\+run\+\_\+time\+\_\+info()}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::report\+\_\+run\+\_\+time\+\_\+info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a0c987a4eb353484a89f6b54c44e4940b}
Allows to report the runtime information about the server. 

Definition at line 111 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a16dcf58e027baa12eec503b2323a8131}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!run@{run}}
\index{run@{run}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{run()}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a16dcf58e027baa12eec503b2323a8131}
Allows to run the server 

Definition at line 118 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a57a29ff74e1ed45b04ad70eca4cb81dd}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!send\+\_\+response@{send\+\_\+response}}
\index{send\+\_\+response@{send\+\_\+response}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{send\+\_\+response(connection\+\_\+hdl hdl, trans\+\_\+job\+\_\+response \&response)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::send\+\_\+response (
\begin{DoxyParamCaption}
\item[{{\bf connection\+\_\+hdl}}]{hdl, }
\item[{{\bf trans\+\_\+job\+\_\+response} \&}]{response}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a57a29ff74e1ed45b04ad70eca4cb81dd}
Allows to send the translation job response to the client associated with the given connection handler. 
\begin{DoxyParams}{Parameters}
{\em hdl} & the connection handler to identify the connection \\
\hline
{\em response} & the translation response object to be used \\
\hline
\end{DoxyParams}


Definition at line 156 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a777df696ef2e9bb24fe19b4bff7b7e81}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!set\+\_\+num\+\_\+threads@{set\+\_\+num\+\_\+threads}}
\index{set\+\_\+num\+\_\+threads@{set\+\_\+num\+\_\+threads}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{set\+\_\+num\+\_\+threads(const size\+\_\+t num\+\_\+threads)}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::set\+\_\+num\+\_\+threads (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{num\+\_\+threads}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a777df696ef2e9bb24fe19b4bff7b7e81}
Allows to set the new number of worker threads. This operation should be safe as the new threads are just added to the list and the deleted ones are let to finish their translation task execution. 
\begin{DoxyParams}{Parameters}
{\em num\+\_\+threads} & the new number of worker threads \\
\hline
\end{DoxyParams}


Definition at line 104 of file translation\+\_\+server.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a49a359715e8314937625e44c85d79c25}{}\index{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}!stop@{stop}}
\index{stop@{stop}!uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server@{uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server}}
\subsubsection[{stop()}]{\setlength{\rightskip}{0pt plus 5cm}void uva\+::smt\+::bpbd\+::server\+::translation\+\_\+server\+::stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1translation__server_a49a359715e8314937625e44c85d79c25}
Allows to stop the translation server 

Definition at line 126 of file translation\+\_\+server.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
inc/server/\hyperlink{translation__server_8hpp}{translation\+\_\+server.\+hpp}\end{DoxyCompactItemize}
