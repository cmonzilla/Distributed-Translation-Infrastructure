\hypertarget{classasio_1_1basic__yield__context}{}\section{asio\+:\+:basic\+\_\+yield\+\_\+context$<$ Handler $>$ Class Template Reference}
\label{classasio_1_1basic__yield__context}\index{asio\+::basic\+\_\+yield\+\_\+context$<$ Handler $>$@{asio\+::basic\+\_\+yield\+\_\+context$<$ Handler $>$}}


Context object the represents the currently executing coroutine.  




{\ttfamily \#include $<$asio/spawn.\+hpp$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef boost\+::coroutines\+::coroutine$<$ void()$>$ \hyperlink{classasio_1_1basic__yield__context_afd9613f4a7188a89d349a3aa34b88220}{callee\+\_\+type}
\begin{DoxyCompactList}\small\item\em The coroutine callee type, used by the implementation. \end{DoxyCompactList}\item 
typedef boost\+::coroutines\+::coroutine$<$ void()$>$\+::\hyperlink{classasio_1_1basic__yield__context_a3f865e7e2e46345effce8163336f1c8e}{caller\+\_\+type} \hyperlink{classasio_1_1basic__yield__context_a3f865e7e2e46345effce8163336f1c8e}{caller\+\_\+type}
\begin{DoxyCompactList}\small\item\em The coroutine caller type, used by the implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classasio_1_1basic__yield__context_a9f14fbbf643163ee3152972d56907ede}{basic\+\_\+yield\+\_\+context} (const detail\+::weak\+\_\+ptr$<$ \hyperlink{classasio_1_1basic__yield__context_afd9613f4a7188a89d349a3aa34b88220}{callee\+\_\+type} $>$ \&coro, \hyperlink{classasio_1_1basic__yield__context_a3f865e7e2e46345effce8163336f1c8e}{caller\+\_\+type} \&ca, Handler \&handler)
\begin{DoxyCompactList}\small\item\em Construct a yield context to represent the specified coroutine. \end{DoxyCompactList}\item 
\hyperlink{classasio_1_1basic__yield__context}{basic\+\_\+yield\+\_\+context} \hyperlink{classasio_1_1basic__yield__context_acbeadcb22a1ff58d5a8edffec2ecb5fa}{operator\mbox{[}$\,$\mbox{]}} (\hyperlink{classasio_1_1error__code}{asio\+::error\+\_\+code} \&ec) const 
\begin{DoxyCompactList}\small\item\em Return a yield context that sets the specified \hyperlink{classasio_1_1error__code}{error\+\_\+code}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
detail\+::weak\+\_\+ptr$<$ \hyperlink{classasio_1_1basic__yield__context_afd9613f4a7188a89d349a3aa34b88220}{callee\+\_\+type} $>$ \hyperlink{classasio_1_1basic__yield__context_a67c4e21f4a7b551f4cba8370e1640ffc}{coro\+\_\+}
\item 
\hyperlink{classasio_1_1basic__yield__context_a3f865e7e2e46345effce8163336f1c8e}{caller\+\_\+type} \& \hyperlink{classasio_1_1basic__yield__context_a769cdefc3e600f3c6a29f24d0ada0523}{ca\+\_\+}
\item 
Handler \& \hyperlink{classasio_1_1basic__yield__context_a515fcba3f44460975a5da42295ca3c47}{handler\+\_\+}
\item 
\hyperlink{classasio_1_1error__code}{asio\+::error\+\_\+code} $\ast$ \hyperlink{classasio_1_1basic__yield__context_a4b515d20df406ce69f526bf26b0fbdd8}{ec\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Handler$>$class asio\+::basic\+\_\+yield\+\_\+context$<$ Handler $>$}

Context object the represents the currently executing coroutine. 

The \hyperlink{classasio_1_1basic__yield__context}{basic\+\_\+yield\+\_\+context} class is used to represent the currently executing stackful coroutine. A \hyperlink{classasio_1_1basic__yield__context}{basic\+\_\+yield\+\_\+context} may be passed as a handler to an asynchronous operation. For example\+:


\begin{DoxyCode}
 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Handler>
\textcolor{keywordtype}{void} my\_coroutine(basic\_yield\_context<Handler> yield)
\{
  ...
  std::size\_t n = my\_socket.async\_read\_some(\hyperlink{group__buffer_ga1ed66e401559cbfd19595392f653b47c}{buffer}, yield);
  ...
\} 
\end{DoxyCode}


The initiating function (async\+\_\+read\+\_\+some in the above example) suspends the current coroutine. The coroutine is resumed when the asynchronous operation completes, and the result of the operation is returned. 

Definition at line 48 of file spawn.\+hpp.



\subsection{Member Typedef Documentation}
\hypertarget{classasio_1_1basic__yield__context_afd9613f4a7188a89d349a3aa34b88220}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!callee\+\_\+type@{callee\+\_\+type}}
\index{callee\+\_\+type@{callee\+\_\+type}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{callee\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ typedef boost\+::coroutines\+::coroutine$<$void()$>$ {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::{\bf callee\+\_\+type}}\label{classasio_1_1basic__yield__context_afd9613f4a7188a89d349a3aa34b88220}


The coroutine callee type, used by the implementation. 

When using Boost.\+Coroutine v1, this type is\+: 
\begin{DoxyCode}
\textcolor{keyword}{typename} coroutine<void()> 
\end{DoxyCode}
 When using Boost.\+Coroutine v2 (unidirectional coroutines), this type is\+: 
\begin{DoxyCode}
push\_coroutine<void> 
\end{DoxyCode}
 

Definition at line 63 of file spawn.\+hpp.

\hypertarget{classasio_1_1basic__yield__context_a3f865e7e2e46345effce8163336f1c8e}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!caller\+\_\+type@{caller\+\_\+type}}
\index{caller\+\_\+type@{caller\+\_\+type}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{caller\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ typedef boost\+::coroutines\+::coroutine$<$void()$>$\+::{\bf caller\+\_\+type} {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::{\bf caller\+\_\+type}}\label{classasio_1_1basic__yield__context_a3f865e7e2e46345effce8163336f1c8e}


The coroutine caller type, used by the implementation. 

When using Boost.\+Coroutine v1, this type is\+: 
\begin{DoxyCode}
\textcolor{keyword}{typename} coroutine<void()>::caller\_type 
\end{DoxyCode}
 When using Boost.\+Coroutine v2 (unidirectional coroutines), this type is\+: 
\begin{DoxyCode}
pull\_coroutine<void> 
\end{DoxyCode}
 

Definition at line 78 of file spawn.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classasio_1_1basic__yield__context_a9f14fbbf643163ee3152972d56907ede}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!basic\+\_\+yield\+\_\+context@{basic\+\_\+yield\+\_\+context}}
\index{basic\+\_\+yield\+\_\+context@{basic\+\_\+yield\+\_\+context}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{basic\+\_\+yield\+\_\+context(const detail\+::weak\+\_\+ptr$<$ callee\+\_\+type $>$ \&coro, caller\+\_\+type \&ca, Handler \&handler)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::{\bf basic\+\_\+yield\+\_\+context} (
\begin{DoxyParamCaption}
\item[{const detail\+::weak\+\_\+ptr$<$ {\bf callee\+\_\+type} $>$ \&}]{coro, }
\item[{{\bf caller\+\_\+type} \&}]{ca, }
\item[{Handler \&}]{handler}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classasio_1_1basic__yield__context_a9f14fbbf643163ee3152972d56907ede}


Construct a yield context to represent the specified coroutine. 

Most applications do not need to use this constructor. Instead, the \hyperlink{group__spawn_ga4f2228347a699338928b72b60b52e345}{spawn()} function passes a yield context as an argument to the coroutine function. 

Definition at line 87 of file spawn.\+hpp.



\subsection{Member Function Documentation}
\hypertarget{classasio_1_1basic__yield__context_acbeadcb22a1ff58d5a8edffec2ecb5fa}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!operator\mbox{[}$\,$\mbox{]}@{operator[]}}
\index{operator\mbox{[}$\,$\mbox{]}@{operator[]}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{operator[](asio\+::error\+\_\+code \&ec) const }]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ {\bf basic\+\_\+yield\+\_\+context} {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::operator\mbox{[}$\,$\mbox{]} (
\begin{DoxyParamCaption}
\item[{{\bf asio\+::error\+\_\+code} \&}]{ec}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classasio_1_1basic__yield__context_acbeadcb22a1ff58d5a8edffec2ecb5fa}


Return a yield context that sets the specified \hyperlink{classasio_1_1error__code}{error\+\_\+code}. 

By default, when a yield context is used with an asynchronous operation, a non-\/success \hyperlink{classasio_1_1error__code}{error\+\_\+code} is converted to \hyperlink{classasio_1_1system__error}{system\+\_\+error} and thrown. This operator may be used to specify an \hyperlink{classasio_1_1error__code}{error\+\_\+code} object that should instead be set with the asynchronous operation\textquotesingle{}s result. For example\+:


\begin{DoxyCode}
 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Handler>
\textcolor{keywordtype}{void} my\_coroutine(basic\_yield\_context<Handler> yield)
\{
  ...
  std::size\_t n = my\_socket.async\_read\_some(\hyperlink{group__buffer_ga1ed66e401559cbfd19595392f653b47c}{buffer}, yield[ec]);
  \textcolor{keywordflow}{if} (ec)
  \{
    \textcolor{comment}{// An error occurred.}
  \}
  ...
\} 
\end{DoxyCode}
 

Definition at line 116 of file spawn.\+hpp.



\subsection{Member Data Documentation}
\hypertarget{classasio_1_1basic__yield__context_a769cdefc3e600f3c6a29f24d0ada0523}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!ca\+\_\+@{ca\+\_\+}}
\index{ca\+\_\+@{ca\+\_\+}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{ca\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ {\bf caller\+\_\+type}\& {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::ca\+\_\+}\label{classasio_1_1basic__yield__context_a769cdefc3e600f3c6a29f24d0ada0523}


Definition at line 127 of file spawn.\+hpp.

\hypertarget{classasio_1_1basic__yield__context_a67c4e21f4a7b551f4cba8370e1640ffc}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!coro\+\_\+@{coro\+\_\+}}
\index{coro\+\_\+@{coro\+\_\+}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{coro\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ detail\+::weak\+\_\+ptr$<${\bf callee\+\_\+type}$>$ {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::coro\+\_\+}\label{classasio_1_1basic__yield__context_a67c4e21f4a7b551f4cba8370e1640ffc}


Definition at line 126 of file spawn.\+hpp.

\hypertarget{classasio_1_1basic__yield__context_a4b515d20df406ce69f526bf26b0fbdd8}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!ec\+\_\+@{ec\+\_\+}}
\index{ec\+\_\+@{ec\+\_\+}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{ec\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ {\bf asio\+::error\+\_\+code}$\ast$ {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::ec\+\_\+}\label{classasio_1_1basic__yield__context_a4b515d20df406ce69f526bf26b0fbdd8}


Definition at line 129 of file spawn.\+hpp.

\hypertarget{classasio_1_1basic__yield__context_a515fcba3f44460975a5da42295ca3c47}{}\index{asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}!handler\+\_\+@{handler\+\_\+}}
\index{handler\+\_\+@{handler\+\_\+}!asio\+::basic\+\_\+yield\+\_\+context@{asio\+::basic\+\_\+yield\+\_\+context}}
\subsubsection[{handler\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Handler$>$ Handler\& {\bf asio\+::basic\+\_\+yield\+\_\+context}$<$ Handler $>$\+::handler\+\_\+}\label{classasio_1_1basic__yield__context_a515fcba3f44460975a5da42295ca3c47}


Definition at line 128 of file spawn.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
ext/asio/\hyperlink{spawn_8hpp}{spawn.\+hpp}\end{DoxyCompactItemize}
