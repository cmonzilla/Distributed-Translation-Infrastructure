\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query}{}\section{uva\+:\+:smt\+:\+:bpbd\+:\+:server\+:\+:tm\+:\+:models\+:\+:tm\+\_\+query$<$ model\+\_\+type $>$ Class Template Reference}
\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query$<$ model\+\_\+type $>$@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query$<$ model\+\_\+type $>$}}


{\ttfamily \#include $<$tm\+\_\+query.\+hpp$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef unordered\+\_\+map$<$ \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_ad18d4cdf5504e76c22b0c124ff60b44f}{phrase\+\_\+uid}, \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_a841bb11e4e9f70fbde7a8ca1ae533681}{tm\+\_\+const\+\_\+source\+\_\+entry\+\_\+ptr} $>$ \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a9b383019bf72b54499ae3880d409e19b}{query\+\_\+map}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a8735b989bcadf6cbeabf41c22240beda}{tm\+\_\+query} (const model\+\_\+type \&model)
\item 
\hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a6fd3878559722341e04732e48595a050}{$\sim$tm\+\_\+query} ()
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a0c93b738f0b13d88c9d081a1ac76641d}{execute} (const \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_ad18d4cdf5504e76c22b0c124ff60b44f}{phrase\+\_\+uid} uid, \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_a841bb11e4e9f70fbde7a8ca1ae533681}{tm\+\_\+const\+\_\+source\+\_\+entry\+\_\+ptr} \&entry\+\_\+ptr)
\item 
\hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_a86b26049fe9aeb13a850852d897a2a77}{tm\+\_\+const\+\_\+source\+\_\+entry} $\ast$ \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a9ac4dd7a24c9b600ac4fa8df0a9ef2d8}{get\+\_\+source\+\_\+entry} (const \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_ad18d4cdf5504e76c22b0c124ff60b44f}{phrase\+\_\+uid} uid)
\item 
void \hyperlink{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a99f13c4bc5b7ff5529a37a283db43c7f}{get\+\_\+st\+\_\+uids} (vector$<$ \hyperlink{namespaceuva_1_1smt_1_1bpbd_1_1server_ad18d4cdf5504e76c22b0c124ff60b44f}{phrase\+\_\+uid} $>$ \&st\+\_\+uids) const 
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename model\+\_\+type$>$class uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query$<$ model\+\_\+type $>$}

This class represents a query for the translation model In essence it is a map from the source phrases to the pointers to maps storing the translations in the target language. The query object is not re-\/usable at the moment as during the translation all source translations are retrieved once at the beginning of decoding. This query is based on hashing, i.\+e. internally the source phrase is stored as a hash value. This might occasionally cause collisions, but since this is a local issue it can be changed in the future. 

Definition at line 64 of file tm\+\_\+query.\+hpp.



\subsection{Member Typedef Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a9b383019bf72b54499ae3880d409e19b}{}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}!query\+\_\+map@{query\+\_\+map}}
\index{query\+\_\+map@{query\+\_\+map}!uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}}
\subsubsection[{query\+\_\+map}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename model\+\_\+type$>$ typedef unordered\+\_\+map$<${\bf phrase\+\_\+uid}, {\bf tm\+\_\+const\+\_\+source\+\_\+entry\+\_\+ptr}$>$ {\bf uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}$<$ model\+\_\+type $>$\+::{\bf query\+\_\+map}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a9b383019bf72b54499ae3880d409e19b}


Definition at line 68 of file tm\+\_\+query.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a8735b989bcadf6cbeabf41c22240beda}{}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}!tm\+\_\+query@{tm\+\_\+query}}
\index{tm\+\_\+query@{tm\+\_\+query}!uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}}
\subsubsection[{tm\+\_\+query(const model\+\_\+type \&model)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename model\+\_\+type$>$ {\bf uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}$<$ model\+\_\+type $>$\+::{\bf tm\+\_\+query} (
\begin{DoxyParamCaption}
\item[{const model\+\_\+type \&}]{model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a8735b989bcadf6cbeabf41c22240beda}
The basic constructor 

Definition at line 73 of file tm\+\_\+query.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a6fd3878559722341e04732e48595a050}{}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}!````~tm\+\_\+query@{$\sim$tm\+\_\+query}}
\index{````~tm\+\_\+query@{$\sim$tm\+\_\+query}!uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}}
\subsubsection[{$\sim$tm\+\_\+query()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename model\+\_\+type$>$ {\bf uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}$<$ model\+\_\+type $>$\+::$\sim${\bf tm\+\_\+query} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a6fd3878559722341e04732e48595a050}
The basic destructor 

Definition at line 79 of file tm\+\_\+query.\+hpp.



\subsection{Member Function Documentation}
\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a0c93b738f0b13d88c9d081a1ac76641d}{}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}!execute@{execute}}
\index{execute@{execute}!uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}}
\subsubsection[{execute(const phrase\+\_\+uid uid, tm\+\_\+const\+\_\+source\+\_\+entry\+\_\+ptr \&entry\+\_\+ptr)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename model\+\_\+type$>$ void {\bf uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}$<$ model\+\_\+type $>$\+::execute (
\begin{DoxyParamCaption}
\item[{const {\bf phrase\+\_\+uid}}]{uid, }
\item[{{\bf tm\+\_\+const\+\_\+source\+\_\+entry\+\_\+ptr} \&}]{entry\+\_\+ptr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a0c93b738f0b13d88c9d081a1ac76641d}
Allows to execute the translation query for the given source phrase. This query also keeps the local cache of retrieved source phrase translations. 
\begin{DoxyParams}{Parameters}
{\em uid} & \mbox{[}in\mbox{]} the source phrase uid \\
\hline
{\em entry\+\_\+ptr} & \mbox{[}out\mbox{]} the reference to the source entry pointer which will be initialized with the found source entry. \\
\hline
\end{DoxyParams}


Definition at line 90 of file tm\+\_\+query.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a9ac4dd7a24c9b600ac4fa8df0a9ef2d8}{}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}!get\+\_\+source\+\_\+entry@{get\+\_\+source\+\_\+entry}}
\index{get\+\_\+source\+\_\+entry@{get\+\_\+source\+\_\+entry}!uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}}
\subsubsection[{get\+\_\+source\+\_\+entry(const phrase\+\_\+uid uid)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename model\+\_\+type$>$ {\bf tm\+\_\+const\+\_\+source\+\_\+entry}$\ast$ {\bf uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}$<$ model\+\_\+type $>$\+::get\+\_\+source\+\_\+entry (
\begin{DoxyParamCaption}
\item[{const {\bf phrase\+\_\+uid}}]{uid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a9ac4dd7a24c9b600ac4fa8df0a9ef2d8}
Allows to get translations for the given source entry 
\begin{DoxyParams}{Parameters}
{\em uid} & the unique identifier of the source phrase \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the pointer to the source entry or N\+U\+L\+L if the translation is not found 
\end{DoxyReturn}


Definition at line 122 of file tm\+\_\+query.\+hpp.

\hypertarget{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a99f13c4bc5b7ff5529a37a283db43c7f}{}\index{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}!get\+\_\+st\+\_\+uids@{get\+\_\+st\+\_\+uids}}
\index{get\+\_\+st\+\_\+uids@{get\+\_\+st\+\_\+uids}!uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query@{uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}}
\subsubsection[{get\+\_\+st\+\_\+uids(vector$<$ phrase\+\_\+uid $>$ \&st\+\_\+uids) const }]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename model\+\_\+type$>$ void {\bf uva\+::smt\+::bpbd\+::server\+::tm\+::models\+::tm\+\_\+query}$<$ model\+\_\+type $>$\+::get\+\_\+st\+\_\+uids (
\begin{DoxyParamCaption}
\item[{vector$<$ {\bf phrase\+\_\+uid} $>$ \&}]{st\+\_\+uids}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classuva_1_1smt_1_1bpbd_1_1server_1_1tm_1_1models_1_1tm__query_a99f13c4bc5b7ff5529a37a283db43c7f}
Allows to get all the source/target phrase identifiers for the source target translation in this query. Must be called after the query is executed 
\begin{DoxyParams}{Parameters}
{\em st\+\_\+uids} & the container for the source/target phrase identifiers \\
\hline
\end{DoxyParams}


Definition at line 134 of file tm\+\_\+query.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
inc/server/tm/models/\hyperlink{tm__query_8hpp}{tm\+\_\+query.\+hpp}\end{DoxyCompactItemize}
